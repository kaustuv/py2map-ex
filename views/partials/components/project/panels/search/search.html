<div class="search shadow-btn no-padding"><div uib-dropdown="uib-dropdown" dropdown-append-to-body="dropdown-append-to-body" class="square-btn no-background text-center uib-dropdown pull-left vert-align"><div uib-dropdown-toggle="uib-dropdown-toggle" auto-close="outsideClick" class="vert-align"><h4 class="no-margin pull-left truncate">{{ui.attrFilterText}}&nbsp;</h4><i class="fa fa-caret-down"></i></div><div uib-dropdown-menu="uib-dropdown-menu" class="uib-dropdown-menu uib-dropdown-menu-flexing"><div class="uib-dropdown-click-close"></div><div style="margin-left: 50px;" class="uib-dropdown-flex-content"><div class="uib-dropdown-flex right"><ul class="list-unstyled dd-list"><li class="row vert-align"><div class="col-xs-2"><div ng-click="$event.stopPropagation();" class="tag-checkbox"><input id="attr-select-all" type="checkbox" ng-disabled="ui.disableAllChkbx" ng-model="ui.allAttrsSelected"/><label for="attr-select-all"></label></div></div><div class="col-xs-9"><h6 class="no-margin">All</h6></div></li><li ng-repeat="attrVM in filterAttrVMs" class="row vert-align"><div class="col-xs-2"><div ng-click="$event.stopPropagation();" class="tag-checkbox"><input id="attr-select-{{::$index}}" type="checkbox" ng-model="attrVM.checked" ng-change="attrToggled(attrVM);"/><label for="attr-select-{{::$index}}"></label></div></div><div class="col-xs-10"><h6 class="no-margin truncate">{{::attrVM.title}}<span>&nbsp;&nbsp;&nbsp;<i ng-if="::attrVM.metadata.descr" uib-tooltip="{{::attrVM.metadata.descr}}" tooltip-placement="right" tooltip-append-to-body="true" class="fa fa-info-circle"></i></span></h6></div></li></ul></div></div></div></div><div class="square-btn no-background no-border search-input"><input ng-show="!ui.overlayOpen" style="width: 100%" type="text" ng-model="globalSearch.text" ng-keyup="searchFn($event)" ng-focus="ui.showInfoIcon = true" ng-blur="ui.showInfoIcon = false" class="h4 form-control"/><input ng-show="ui.overlayOpen" style="width: 100%" type="text" ng-model="globalSearch.text" ng-change="highlightTextInOverlay($event)" ng-focus="ui.showInfoIcon = true" ng-blur="ui.showInfoIcon = false" class="h4 form-control"/><i ng-show="ui.showInfoIcon" uib-tooltip="Searching “climate change” will find the exact phrase, while a search for: climate change, will find “climate” OR “change”. Search is not case sensitive. Use the drop down to the left to select which attributes to search (default is all)." tooltip-placement="bottom" tooltip-append-to-body="true" class="fa fa-info-circle"></i><i class="fa fa-search"></i></div><div class="clearfix"></div><div ng-show="showSearchResults" class="search-results uib-dropdown-menu-flexing"><div ng-click="hideSearchResults();" class="search-results-cover"></div><div class="search-results-list"><div class="flex-vert-container"><div class="flex-fill-column"><div class="header"><div class="row vert-align"><div class="col-xs-6"><h6 class="title text-uppercase pointable-cursor vert-align no-margin"><!--description of what found--><span ng-show="!ui.processingQuery">{{ui.searchHelperText}}&nbsp;&nbsp;</span><span ng-show="ui.processingQuery">searching...</span></h6></div><div class="col-xs-3"><div ng-if="MAPP_EDITOR_OPEN &amp;&amp; searchResults.length &gt; 0" uib-dropdown="uib-dropdown" dropdown-append-to-body="dropdown-append-to-body" class="square-btn small-btn pull-right"><div uib-dropdown-toggle="uib-dropdown-toggle" auto-close="outsideClick" class="vert-align"><h6 class="no-margin">Add to Group&nbsp;</h6><i class="fa fa-caret-down"></i></div><div uib-dropdown-menu="uib-dropdown-menu" class="uib-dropdown-menu uib-dropdown-menu-flexing"><div class="uib-dropdown-click-close"></div><div class="uib-dropdown-flex-content"><div class="uib-dropdown-flex"><ul class="list-unstyled dd-list nowrap"><li ng-repeat="selVM in selectionSetVMs" ng-click="addDatapointsToGroup(selVM); $event.stopPropagation();" class="row vert-align pointable-cursor"><div class="col-xs-3"><h6 class="no-margin">{{selVM.dpIDs.length}}</h6></div><div class="col-xs-9"><h6 class="no-margin">{{selVM.selName}}</h6></div></li><li ng-click="createNewSelection(); $event.stopPropagation();" class="row vert-align pointable-cursor"><div class="col-xs-3"></div><div class="col-xs-9"><h6 class="no-margin">New Group</h6></div></li></ul></div></div></div></div></div><div class="col-xs-3"><div ng-if="searchResults.length &gt; 0" ng-click="selectAllNodes(); $event.stopPropagation();" class="square-btn small-btn pull-right"><h6>Select&nbsp;All</h6></div></div></div><div ng-if="ui.showLimit &lt; searchResults.length" class="row vert-align show-more"><div class="col-xs-12"><div ng-click="showMore()" class="more-btn pull-right"><div class="h6 no-margin"><em>show more results</em></div></div></div></div></div><div class="panel-scroll flex-fill"><div class="panel-list width-100"><div ng-repeat="node in searchResults | limitTo: ui.showLimit track by node.id" ng-click="selectNode(node); $event.stopPropagation();" ng-mouseenter="hoverNode(node); $event.stopPropagation();" class="panel-item no-animate"><div uib-tooltip-html="getSearchHighlights(node);" tooltip-placement="auto left-top" tooltip-append-to-body="true" class="row vert-align"><div class="col-xs-1"><div style="background:{{node.colorStr}};" class="big-circle"></div></div><div class="col-xs-10"><h6 class="less-gutter">{{node.attr[ui.nodeLabelAttr]}}</h6></div></div></div></div></div></div></div></div></div></div>