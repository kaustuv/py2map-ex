<div ng-controller="SelectionSetsCtrl" ng-mouseleave="rightPanelExited();" class="panel-container flex-vert-container width-100"><div class="header"><div class="row vert-align main"><div class="col-xs-9"><h6 class="title text-uppercase truncate"><i ng-class="{'active': panelUI.selectionPanelOpen}" class="fa fa-fw fa-1-3x fa-heart btn-icon"></i><span class="truncate">&nbsp;&nbsp;My&nbsp;<span ng-if="selectionVMs.length &gt; 0">{{selectionVMs.length}}</span><span>&nbsp;Group</span><span ng-if="selectionVMs.length != 1">s</span><span>&nbsp;&nbsp;</span></span></h6></div><div ng-click="$event.stopPropagation();" class="col-xs-3 vert-align right"><button ng-if="panelUI.selectionPanelOpen &amp;&amp; selectionVMs.length &gt; 0" type="button" ng-click="bakeIntoDataset();" uib-tooltip="Save Groups as Tags" tooltip-append-to-body="true" tooltip-placement="right"><i class="fa fa-tags fa-1-2x toggle-icon"></i></button><button type="button" ng-click="addNewSelection(); panelUI.openPanel('selection')" uib-tooltip="Create New Group" tooltip-append-to-body="true" tooltip-placement="right"><i class="fa fa-plus fa-1-2x toggle-icon"></i></button></div></div></div><div class="list-content panel-scroll flex-fill"><div class="width-100"><ul class="panel-list list-unstyled width-100"><li ng-repeat="selVM in selectionVMs" ng-class="{'bg-active': selVM.selected}" ng-click="selVM.select($event);" ng-mouseenter="selVM.hover(); selVM.hovered = true;" ng-mouseleave="selVM.clear(); selVM.hovered =false; selVM.showButs = false;" class="panel-item pointable-cursor animate-repeat width-100"><div class="row flex-container pointable-cursor vert-align"><div class="col-xs-2"><span class="info-icon"><i class="fa-1-3x icon-legend-dots"></i></span></div><div ng-if="!selVM.editMode &amp;&amp; !selVM.createMode" class="col-xs-10 less-gutter"><div class="row vert-align"><div class="col-xs-2"><h6 class="pull-left no-margin">{{selVM.dpIDs.length}}</h6></div><div ng-class="{'col-xs-3': selVM.showButs, 'col-xs-7': !selVM.showButs}" class="transition"><h6 class="less-gutter no-margin truncate width-100">{{selVM.selName}}</h6></div><div ng-click="$event.stopPropagation()" ng-class="{'col-xs-6': selVM.showButs, 'col-xs-3': !selVM.showButs}" class="transition"><div class="row vert-align"><div ng-if="selVM.selected" class="col-xs-1"><button type="button" ng-click="selVM.updateSelection();" uib-tooltip="Update Group" tooltip-placement="bottom-left" tooltip-append-to-body="true" class="visible-btn"><i class="fa fa-cloud-upload"></i></button></div><div ng-if="!selVM.selected" class="col-xs-1"><button ng-show="ui.graphInteracted" type="button" ng-click="selVM.addDatapoints();" uib-tooltip="Add to Group" tooltip-placement="bottom-left" tooltip-append-to-body="true" class="visible-btn"><i class="fa fa-plus"></i></button></div><div ng-hide="selVM.showButs" class="col-xs-1"><button type="button" ng-click="selVM.showButs = true;" uib-tooltip="More..." tooltip-placement="bottom-left" tooltip-append-to-body="true" class="visible-btn"><i class="fa fa-ellipsis-h"></i></button></div><div class="col-xs-1"><button ng-show="selVM.showButs" type="button" uib-tooltip="{{{true:'Hide', false:'Show'}[selVM.visible]}}" tooltip-placement="bottom-left" ng-click="selVM.toggleVisibility();" tooltip-append-to-body="true" class="visible-btn"><i ng-class="{true:'fa-lightbulb-o', false:'fa-lightbulb-o text-muted-light'}[selVM.visible]" class="fa"></i></button></div><div class="col-xs-1"><button ng-show="selVM.showButs" type="button" ng-click="$event.stopPropagation(); selVM.removeSelectedDPs();" uib-tooltip="Remove selected nodes from group" tooltip-placement="bottom-left" tooltip-append-to-body="true" class="visible-btn"><i class="fa fa-times"></i></button></div><div class="col-xs-1"><button ng-show="selVM.showButs" type="button" ng-click="$event.stopPropagation(); selVM.editMode = true;" uib-tooltip="Edit Group Name" tooltip-placement="bottom-left" tooltip-append-to-body="true" class="visible-btn"><i class="fa fa-pencil"></i></button></div><div class="col-xs-1"><button ng-show="selVM.showButs" type="button" ng-click="$event.stopPropagation(); selVM.delete();" uib-tooltip="Delete Group" tooltip-placement="bottom-left" tooltip-append-to-body="true" class="visible-btn"><i class="fa fa-trash-o"></i></button></div></div></div></div></div><div ng-if="selVM.editMode || selVM.createMode" ng-click="$event.stopPropagation()" class="col-xs-10 form-inline vert-align less-gutter"><div class="vert-align"><input type="text" ng-model="selVM.selName" ng-change="updateLabelForAttrValue(l)" ng-model-options="{ debounce: 1000 }" dir-select-all="dir-select-all" class="form-control small-control no-min-width h6 no-margin"/></div><div ng-if="selVM.createMode" class="pull-right small-btn-control"><div ng-click="$event.stopPropagation()" class="row"><div class="col-xs-12 vert-align"><button type="button" ng-click="selVM.create();" class="square-btn small-btn panel-btn"><h6>Save</h6></button><button type="button" ng-click="selVM.delete();" class="square-btn small-btn panel-btn"><h6>Cancel</h6></button></div></div></div><div ng-if="!selVM.createMode" class="pull-right small-btn-control"><div ng-click="$event.stopPropagation()" class="row"><div class="col-xs-3"><div type="button" ng-click="$event.stopPropagation(); selVM.updateName();" class="square-btn small-btn panel-btn pull-left vert-align"><i class="fa fa-check"></i></div></div><div class="col-xs-3"><div type="button" ng-click="$event.stopPropagation(); selVM.cancelNameChange();" class="square-btn small-btn panel-btn pull-left vert-align"><i class="fa fa-times"></i></div></div></div></div></div></div><div class="divider"></div></li><li ng-if="selectionVMs.length == 0" class="panel-item width-100 no-hover text-center flex-container"><button type="button" ng-click="addNewSelection();" class="power-btn flex-fill">Create a Group</button></li></ul></div></div></div>