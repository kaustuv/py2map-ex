<div ng-controller="PlayerEditorCtrl" class="accordion-panel info-panel flex-transclude height-100"><form class="panel-container flex-vert-container width-100"><div class="header"><div class="row vert-align"><div class="col-xs-4"><h6 class="title text-uppercase truncate">Publish&nbsp;</h6></div><div ng-if="playerTempObj.playerExists" class="col-xs-3"><div uib-tooltip="{{playerTempObj.isDisabled &amp;&amp; 'Enable mapp' || 'Disable mapp'}}" tooltip-placement="right" tooltip-append-to-body="true" class="bool"><div class="onoffswitch"><input id="player-switch" type="checkbox" ng-model="playerTempObj.isDisabled" ng-true-value="false" ng-false-value="true" ng-change="togglePlayer();" class="onoffswitch-checkbox"/><label for="player-switch" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div><div ng-if="playerTempObj.playerExists" class="col-xs-4 vert-align"><a type="button" target="_blank" ng-href="{{protocol}}//{{domain}}/play/{{playerObj.playerUrl}}" tooltip-placement="right" ng-if="!playerObj.isDisabled &amp;&amp; !playerTempObj.playerDirty &amp;&amp; (!playerObj.isPrivate || (playerObj.isPrivate &amp;&amp; !playerObj.directAccess))" class="pull-right square-btn small-btn panel-btn vert-align">View</a><a type="button" target="_blank" ng-href="{{protocol}}//{{domain}}/play/{{playerObj.playerUrl}}?access_token={{playerObj.access_token}}" tooltip-placement="right" ng-if="!playerObj.isDisabled &amp;&amp; !playerTempObj.playerDirty &amp;&amp; playerObj.isPrivate &amp;&amp; playerObj.directAccess" class="pull-right square-btn small-btn panel-btn vert-align">View</a><button type="submit" ng-if="playerTempObj.playerDirty" ng-click="updatePlayer()" tooltip-placement="right" class="square-btn small-btn h6 panel-btn">Update</button></div></div></div><div class="flex-fill panel-scroll flex-vert-container"><div ng-if="playerTempObj.playerExists" class="panel-list"><uib-accordion close-others="editorPanels.closeOthers"><uib-accordion-group is-open="editorPanels.privatePlayer" ng-if="!playerObj.isDisabled"><uib-accordion-heading><div class="row vert-align border-section title-style2"><div class="col-xs-12"><h6 uib-tooltip="Customize access" tooltip-placement="right" tooltip-append-to-body="true" class="text-uppercase no-margin">Mapp Access</h6></div></div></uib-accordion-heading><div><div class="panel-list"><div class="panel-item"><div class="row vert-align"><div class="col-xs-5"><h6 class="title text-uppercase">Private&nbsp;</h6></div><div ng-if="playerTempObj.playerExists" class="col-xs-4"><div uib-tooltip="{{!playerObj.isPrivate &amp;&amp; 'Make private' || 'Make public'}}" tooltip-placement="right" tooltip-append-to-body="true" class="bool"><div class="onoffswitch"><input id="player-access" type="checkbox" ng-model="playerTempObj.isPrivate" ng-change="togglePlayerAccess()" class="onoffswitch-checkbox"/><label for="player-access" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div></div><div ng-if="playerTempObj.isPrivate" class="panel-item"><div class="row"><div class="col-xs-4 radio"><label class="h6"><input type="radio" ng-model="playerTempObj.directAccess" ng-value="true" ng-click="setPrivateUrl()"/><span>Private Url</span></label></div><div class="col-sm-2">or</div><div class="col-xs-4 radio"><label class="h6"><input type="radio" ng-model="playerTempObj.directAccess" ng-value="false" ng-click="setAccessToken()"/><span>Access Token</span></label></div></div></div><div ng-if="playerTempObj.directAccess &amp;&amp; playerTempObj.isPrivate" class="panel-item"><div class="row vert-align"><div class="col-xs-12"><h6>Private Url -</h6><textarea readonly="readonly" dir-select-all="dir-select-all" class="width-100">{{protocol}}//{{domain}}/play/{{playerObj.playerUrl}}?access_token={{playerObj.access_token}}</textarea></div></div></div><div ng-if="!playerTempObj.directAccess &amp;&amp; playerTempObj.isPrivate" class="panel-item"><div class="row vert-align"><div class="col-xs-12"><h6 ng-show="tokenEditMode">Enter Access Token -</h6><input type="text" ng-model="playerTempObj.access_token" ng-if="tokenEditMode" dir-select-all="dir-select-all" class="form-control"/><h6 ng-if="!tokenEditMode">{{playerObj.access_token}}</h6><div class="clearfix"></div><button type="button" ng-click="editToken()" ng-if="!tokenEditMode" class="square-btn small-btn h6 panel-btn">Edit Token</button></div></div><div class="divider"></div></div></div></div></uib-accordion-group><uib-accordion-group is-open="editorPanels.url" ng-if="!playerObj.isDisabled"><uib-accordion-heading><div class="row vert-align"><div class="col-xs-12"><h6 uib-tooltip="Customize Url" tooltip-placement="right" tooltip-append-to-body="true" class="text-uppercase no-margin">Mapp URL</h6></div></div></uib-accordion-heading><div><div class="panel-list"><div class="panel-item"><div class="row vert-align"><a target="_blank" ng-if="!playerObj.isPrivate || (playerObj.isPrivate &amp;&amp; !playerObj.directAccess)" ng-href="{{protocol}}//{{domain}}/play/{{playerObj.playerUrl}}" class="col-xs-12 text-ultralight text-normal text-primary">{{protocol}}//{{domain}}/play/{{playerTempObj.playerUrl}}</a><a target="_blank" ng-if="playerObj.isPrivate &amp;&amp; playerObj.directAccess" ng-href="{{protocol}}//{{domain}}/play/{{playerObj.playerUrl}}?access_token={{playerObj.access_token}}" class="col-xs-12 text-ultralight text-normal text-primary">{{protocol}}//{{domain}}/play/{{playerTempObj.playerUrl}}?access_token={{playerObj.access_token}}</a></div></div><div class="panel-item"><div class="row vert-align"><div class="col-xs-5"><h6>customize url:</h6></div><div class="col-xs-7"><div class="form-inline"><div class="form-group"><input ng-class="playerTempObj.isUniquePlayerUrl ? '' : 'input-danger'" type="text" ng-model="playerTempObj.playerUrl" ng-change="isUrlAvailable();" style="width: 150px; margin-top: 0px;" dir-select-all="dir-select-all" class="form-control"/></div></div></div></div><div ng-if="!playerTempObj.isUniquePlayerUrl" class="row vert-align"><div class="col-xs-offset-5 col-xs-8"><h6 class="error-block">URL already taken!</h6></div></div></div><div class="panel-item"><div class="row vert-align"><div class="col-xs-12"><div class="row"><div class="col-xs-12"><h6>Embed</h6></div></div><div class="row"><div class="col-xs-12"><textarea readonly="readonly" onclick="this.focus();this.select()" rows="3" class="form-control">&lt;iframe src="{{protocol}}//{{domain}}/play/{{playerObj.playerUrl}}?embed=true" width="500" height="300" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;</textarea></div></div></div></div><div class="clearfix"></div></div><div class="divider"></div></div></div></uib-accordion-group><uib-accordion-group is-open="editorPanels.snapshots"><uib-accordion-heading><div class="row vert-align border-section title-style2"><div class="col-xs-12"><h6 uib-tooltip="Edit Snapshots" tooltip-placement="right" tooltip-append-to-body="true" class="text-uppercase no-margin">Snapshots</h6></div></div></uib-accordion-heading><div class="section"><div class="section-body"><ul ng-model="mappSnapshots" style="margin-bottom: -1px;" class="panel-list list-unstyled"><li ng-repeat="snap in mappSnapshots | filter: {isEnabled: true} track by snap.id" class="panel-item"><div class="row vert-align title"><div class="col-xs-12"><div class="col-sm-10"><h6>{{$index + 1}}. {{snap.snapName || 'snapshot'}}</h6></div><div class="col-sm-1"><h6><a uib-tooltip="Edit" tooltip-placement="right" ng-show="!snap.showDesc" type="button" ng-click="openSnapEditModal(snap);" tooltip-append-to-body="true" class="visible-btn"><i class="text-muted-light fa fa-pencil"></i></a></h6><!--.col-sm-1--></div></div></div></li></ul></div></div></uib-accordion-group><uib-accordion-group is-open="editorPanels.styles"><uib-accordion-heading><div class="row vert-align"><div class="col-xs-12"><h6 tooltip-placement="right" tooltip-append-to-body="true" class="text-uppercase no-margin">Settings</h6></div></div></uib-accordion-heading><div class="panel-list"><div class="panel-item"><div class="row"><div class="col-xs-12"><h6 class="title text-uppercase">General</h6></div><div class="col-xs-12"><div class="row vert-align"><div class="col-xs-5"><h6>Font</h6></div><div class="col-xs-7"><div class="ui-select"><select ng-model="playerTempObj.settings.fontClass" ng-options="opt.class as opt.name for opt in fonts" ng-change="markAsDirty()"></select></div></div></div></div></div><div class="divider"></div></div><div class="panel-item"><div class="row vert-align"><div class="col-xs-8"><h6 class="title text-uppercase">Splash</h6></div><div class="col-xs-4"><div class="bool"><div class="onoffswitch"><input id="show-splash-switch" type="checkbox" ng-model="playerTempObj.settings.showModal" ng-change="markAsDirty()" class="onoffswitch-checkbox"/><label for="show-splash-switch" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div><p>The splash screen appears as a modal overlay during initial load of your player. Its a good place to explain and introduce your mapp using text or other media.</p><div ng-if="playerTempObj.settings.showModal" class="panel-sublist"><div ng-if="playerTempObj.settings.simpleSplash == false" class="panel-subitem"><!--only show if simple splash is false (for legacy players)--><div class="row vert-align"><div class="col-xs-8"><h4>Use Simple Splash</h4></div><div class="col-xs-4"><div class="bool"><div class="onoffswitch"><input id="simple-splash-switch" type="checkbox" ng-model="playerTempObj.settings.simpleSplash" ng-change="markAsDirty()" class="onoffswitch-checkbox"/><label for="simple-splash-switch" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div></div><div class="panel-subitem"><div class="form-group"><h6>Title</h6><input ng-model="playerTempObj.settings.modalTitle" ng-change="markAsDirty()" dir-select-all="dir-select-all" class="form-control"/></div></div><div class="panel-subitem"><div class="form-group"><h6>Sub-title</h6><text-angular ng-model="playerTempObj.settings.modalSubtitle" ta-toolbar-button-class="btn btn-xs btn-default" ng-change="markAsDirty()" class="ui-editor no-text-transform"></text-angular></div></div><div class="panel-subitem"><div class="form-group"><h6>Description</h6><text-angular ng-model="playerTempObj.settings.modalDescription" ta-toolbar-button-class="btn btn-xs btn-default" ng-change="markAsDirty()" class="ui-editor no-text-transform"></text-angular></div></div><div class="panel-subitem"><div class="form-group"><h6>Hero Background Image</h6><input ng-model="playerTempObj.settings.modalBackground" ng-change="markAsDirty()" dir-select-all="dir-select-all" class="form-control"/></div></div><div ng-if="playerTempObj.settings.showModal &amp;&amp; !playerTempObj.settings.simpleSplash" class="panel-subitem"><text-angular ng-model="playerTempObj.settings.modalIntroHtml" ta-toolbar-button-class="btn btn-xs btn-default" ng-change="markAsDirty()" class="ui-editor no-text-transform"></text-angular></div></div></div><div class="panel-item"><div class="row vert-align"><div class="col-xs-8"><h6 class="title text-uppercase">Header</h6></div><div class="col-xs-4"><div class="bool"><div class="onoffswitch"><input id="show-header-switch" type="checkbox" ng-model="playerTempObj.settings.showHeader" ng-change="markAsDirty()" class="onoffswitch-checkbox"/><label for="show-header-switch" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div><p>The header appears on the top left corner of your player. You can also add an image link (Toggle HTML for advanced usage)</p><!--move to header or actually on graph so users see what it will look like--><div ng-if="playerTempObj.settings.showHeader" class="panel-sublist"><div ng-if="playerTempObj.settings.headerType != 'simple' || playerTempObj.settings.headerType != 'img'"><div class="panel-subitem"><div class="form-group"><h6>Logo URL</h6><input ng-model="playerTempObj.settings.headerImageUrl" ng-change="markAsDirty()" dir-select-all="dir-select-all" class="form-control"/></div></div><div class="panel-subitem"><div class="form-group"><h6>Title</h6><input ng-model="playerTempObj.settings.headerTitle" ng-change="markAsDirty()" dir-select-all="dir-select-all" class="form-control"/></div></div><div class="panel-subitem"><div class="form-group"><h6>Share-Title General</h6><input ng-model="playerTempObj.settings.shareTitle" ng-change="markAsDirty()" dir-select-all="dir-select-all" class="form-control"/></div></div><div class="panel-subitem"><div class="form-group"><h6>Share-Title Compare</h6><input ng-model="playerTempObj.settings.shareTitleCompare" ng-change="markAsDirty()" dir-select-all="dir-select-all" class="form-control"/></div></div><div class="panel-subitem"><div class="form-group"><h6>Share-Title Select</h6><input ng-model="playerTempObj.settings.shareTitleSelect" ng-change="markAsDirty()" dir-select-all="dir-select-all" class="form-control"/></div></div><div class="panel-subitem"><div class="form-group"><h6>Share-ContainerPrefix</h6><input ng-model="playerTempObj.settings.shareServerPrefix" ng-change="markAsDirty()" dir-select-all="dir-select-all" class="form-control"/></div></div><div class="panel-subitem"><div class="row vert-align"><div class="col-xs-5"><h6>Share Facebook </h6></div><div class="col-xs-7"><div class="bool"><div class="onoffswitch"><input id="fb-share-switch" type="checkbox" ng-model="playerTempObj.settings.facebookShare" ng-change="markAsDirty()" class="onoffswitch-checkbox"/><label for="fb-share-switch" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div></div><div class="panel-subitem"><div class="row vert-align"><div class="col-xs-5"><h6>Share Twitter </h6></div><div class="col-xs-7"><div class="bool"><div class="onoffswitch"><input id="twit-share-switch" type="checkbox" ng-model="playerTempObj.settings.twitterShare" ng-change="markAsDirty()" class="onoffswitch-checkbox"/><label for="twit-share-switch" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div></div><div ng-if="playerTempObj.settings.headerType == 'html'" class="panel-subitem"><text-angular ng-model="playerTempObj.settings.headerHtml" ta-toolbar-button-class="btn btn-xs btn-default" ng-change="markAsDirty()" class="ui-editor no-text-transform"></text-angular></div></div></div></div><div class="panel-item"><div class="row vert-align"><div class="col-xs-8"><h6 class="title text-uppercase">Search Bar</h6></div><div class="col-xs-4"><div class="bool"><div class="onoffswitch"><input id="show-search-switch" type="checkbox" ng-model="playerTempObj.settings.showSearch" ng-change="markAsDirty()" class="onoffswitch-checkbox"/><label for="show-search-switch" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div><p>The search bar appears on top of the legend and enables you to do a full-text search on the graph.</p><div class="space"></div></div><div class="panel-item"><div class="row vert-align"><div class="col-xs-8"><h6 class="title text-uppercase">Slideshow Snapshot Duration in Seconds</h6></div><div class="col-xs-4 vert-align"><input ng-model="playerTempObj.settings.snapDuration" ng-change="markAsDirty()" dir-select-all="dir-select-all" class="form-control"/><h6>&nbsp;sec</h6></div></div><p>The duration each snapshot will appear before loading the next when playing through the snapshots.</p><div class="space"></div></div><div class="panel-item"><div class="row vert-align"><div class="col-xs-8"><h6 class="title text-uppercase">Autoplay Slides</h6></div><div class="col-xs-4"><div class="bool"><div class="onoffswitch"><input id="autoplay-switch" type="checkbox" ng-model="playerTempObj.settings.autoPlay" ng-change="markAsDirty()" class="onoffswitch-checkbox"/><label for="autoplay-switch" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div></div><div class="panel-item"><div class="row vert-align"><div class="col-xs-8"><h6>Show Export Selection Button</h6></div><div class="col-xs-4"><div class="bool"><div class="onoffswitch"><input id="toggle-export" type="checkbox" ng-model="playerTempObj.settings.showExportBtn" ng-change="markAsDirty()" class="onoffswitch-checkbox"/><label for="toggle-export" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div><div class="divider"></div></div></div></uib-accordion-group><uib-accordion-group is-open="editorPanels.stats"><uib-accordion-heading><div class="row vert-align border-section title-style2"><div class="col-xs-12"><h6 uib-tooltip="View Mapp Stats" tooltip-placement="right" tooltip-append-to-body="true" class="text-uppercase no-margin">Statistics</h6></div></div></uib-accordion-heading><div><div class="panel-list"><div class="panel-item"><div class="row vert-align"><div class="col-xs-12"><h6>Views: {{playerObj.metrics.viewCount}}</h6></div></div></div></div></div></uib-accordion-group><uib-accordion-group is-open="editorPanels.finalisePlayer"><uib-accordion-heading><div class="row vert-align"><div class="col-xs-12"><h6 uib-tooltip="Finalise Player" tooltip-placement="right" tooltip-append-to-body="true" class="text-uppercase no-margin">Finalise</h6></div></div></uib-accordion-heading><div><div class="panel-list"><div class="panel-item"><div class="row vert-align"><div class="col-xs-6"><h6>Last Finalised on :</h6></div><div class="col-xs-6"><h6>{{playerObj.metrics.viewCount}}</h6></div></div><div class="row"><div class="col-xs-12"><button type="button" ng-click="finalisePlayer();" class="square-btn small-btn panel-btn h6">Finalise</button></div></div></div></div></div></uib-accordion-group><uib-accordion-group is-open="editorPanels.editablePlayer"><uib-accordion-heading><div class="row vert-align"><div class="col-xs-12"><h6 uib-tooltip="Make Player Editable" tooltip-placement="right" tooltip-append-to-body="true" class="text-uppercase no-margin">Allow edits</h6></div></div></uib-accordion-heading><div><div class="panel-list"><div class="panel-item"><div class="row"><div class="col-xs-4"><div class="bool"><div class="onoffswitch"><input id="editable-player" type="checkbox" ng-model="playerTempObj.isEditable" ng-change="toggleEditable()" class="onoffswitch-checkbox"/><label for="editable-player" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div></div></div></div></uib-accordion-group></uib-accordion></div><div ng-if="!playerTempObj.playerExists || getEnabledSnapshots().length &lt; 1" class="panel-list"><div class="panel-item"><div class="row"><div class="col-xs-12"><h6 class="text-center">No snapshots {{mappSnapshots.length > 0 ? 'enabled' : ''}} in your mapp yet</h6></div><div class="col-xs-12 text-center"><button type="button" ng-click="openSnapshotBar();" class="square-btn small-btn panel-btn">Add One</button></div></div></div></div></div></form></div>