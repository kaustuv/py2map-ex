<div ng-show="beginOverlayAnim" ng-class="{'content-overlay': (mapprSettings.nodeFocusRenderTemplate == 'content')}" class="focus-overlay"><div ng-if="showOverlay" class="animate-fade"><div ng-if="mapprSettings.nodeFocusRenderTemplate != 'content'" class="node-gradient animate-fade-out-overlay"><div class="top"></div><div class="bottom"></div><div class="left"></div><div class="right"></div></div><div ng-if="mapprSettings.nodeFocusRenderTemplate == 'content'" class="overlay-content-background animate-fade-out-overlay"></div><!--TODO: fix style issue--><div ng-click="cancelOverlay(); triggerInteraction();" class="back-btn row vert-align toggle-icon"><h6 class="no-margin">Close</h6></div><div ng-show="showNeighborLine" class="neighbor-line animate-fade-in"></div><div><div class="focuspanel"><div ng-if="showFocusNode &amp;&amp; mapprSettings.nodeFocusRenderTemplate == 'content'" class="contentoverlay scrolloverlay"><div id="detailbox-scroll" ng-class="{transparent: hideContent}" style="padding-top:{{scrollPaddingTop}}px" dir-kill-tooltip-on-scroll="dir-kill-tooltip-on-scroll" class="detailbox-container"><div class="content-center"><div ng-hide="hideContent" ng-click="$event.stopPropagation();"><div class="detailbox-card"><h3 style="color:{{focusNode.colorStr}};" ng-bind-html="focusNode.attr[mapprSettings.labelAttr] | highlight_query : searchQuery"></h3></div></div><div ng-repeat="attr in nodeInfoAttrs" data-attr-id="{{::attr.id}}" ng-click="$event.stopPropagation();" ng-if="attr &amp;&amp; attr.visible &amp;&amp; attr.principalVal != null" id="overlayattr-{{attr.id}}"><div class="detailbox-card"><div ng-if="attr.attrType != 'integer' &amp;&amp; attr.attrType != 'float' &amp;&amp; attr.attrType != 'boolean' " class="row"><div class="col-xs-12"><h5 uib-tooltip="{{::attr.metadata.descr}}" tooltip-placement="left" tooltip-append-to-body="true">{{::attr.title}} </h5></div></div><div ng-if="attr.attrType == 'string' &amp;&amp; (!attr.renderType || attr.renderType == 'default' || attr.renderType == 'text' || attr.renderType == 'categorybar' || attr.renderType == 'categorylist' || attr.renderType == 'barchart' || categorybar == 'categorylist' || categorybar == 'tags' || attr.renderType == 'piechart')"><h3 style="color:{{focusNode.colorStr}};" ng-text-truncate="attr.principalVal | highlight_query : searchQuery" ng-tt-chars-threshold="200" ng-tt-more-label="more..." ng-tt-less-label="...less" class="text-attr-content"></h3></div><dir-attr-renderer ng-if="!attr.isInfoAttr || attr.showRenderer" attr-to-render="attr" node-color-str="focusNode.colorStr" show-aggregation="false" is-node="true" is-node-focus="true" is-in-Overlay="true" cancel-overlay-fctn="attrRenderClicked();" show-filter="attr.showFilter" render-width="600" theme="appUi.theme" pinned-media="pinnedMedia" focus-node="focusNode"></dir-attr-renderer><div class="row"><div class="col-xs-3"><h6 class="no-margin">{{::attr.metadata.minLabel}}</h6></div><div style="color:{{focusNode.colorStr}};" class="col-xs-6"><h4 ng-if="attr.attrType === 'integer' || attr.attrType ==='boolean' || attr.attrType === 'float'" uib-tooltip="{{attr.metadata.descr || attr.title}}" tooltip-placement="top" tooltip-append-to-body="true" class="no-margin text-center truncate"><strong><span>{{::attr.title}}:&nbsp;</span><span>{{attr.principalVal}}</span></strong></h4></div><div class="col-xs-3"><h6 class="no-margin text-right">{{::attr.metadata.maxLabel}}</h6></div></div><div ng-if="attr.attrType === 'integer' || attr.attrType ==='boolean' || attr.attrType === 'float' || attr.renderType == 'piechart' || attr.renderType == 'barchart'" class="graph-squares"><div class="pull-right"><div uib-tooltip="Population" tooltip-append-to-body="true" class="square"></div><div uib-tooltip="Group" tooltip-append-to-body="true" class="square"><div style="background: {{focusNode.colorStr}}; opacity: .4;" class="color"></div></div><div uib-tooltip="Node" tooltip-append-to-body="true" class="square"><div style="background: {{focusNode.colorStr}};" class="color"></div></div></div><div class="clearfix"></div></div></div></div></div></div></div><div ng-if="showFocusNode &amp;&amp; mapprSettings.nodeFocusRenderTemplate == 'scroll'" class="scrolloverlay"><dir-scroll-overlay-anchors color-str="{{focusNode.colorStr}}" scroll-container="#detailbox-scroll" scroll-data-id="data-attr-id" show-neighbors="{{mapprSettings.nodeFocusNeighborsButton}}"></dir-scroll-overlay-anchors><div ng-hide="hideContent" style="color:{{focusNode.colorStr}};" class="focusnode-label"><h4>{{focusNode.attr[mapprSettings.labelAttr]}}</h4></div><div id="detailbox-scroll" ng-class="{transparent: hideContent}" style="padding-top:{{scrollPaddingTop}}px" dir-kill-tooltip-on-scroll="dir-kill-tooltip-on-scroll" class="detailbox-container"><div dir-neighbors-detail="dir-neighbors-detail" ng-repeat-start="attr in nodeInfoAttrs" ng-click="$event.stopPropagation();" ng-if="showFocusNode &amp;&amp; mapprSettings.nodeFocusShowNeighbors &amp;&amp; (mapprSettings.nodeFocusNeighborsBefore == attr.id || ($first &amp;&amp; !mapprSettings.nodeFocusNeighborsBefore))" grid-size="12" data-attr-id="Neighbors"></div><div ng-repeat-end="ng-repeat-end" data-attr-id="{{::attr.id}}" ng-click="$event.stopPropagation();" ng-if="attr &amp;&amp; attr.visible &amp;&amp; attr.principalVal != null" id="overlayattr-{{attr.id}}"><div class="detailbox-card"><div ng-if="attr.attrType != 'integer' &amp;&amp; attr.attrType != 'float' &amp;&amp; attr.attrType != 'boolean' " class="row"><div class="col-xs-12"><h5 uib-tooltip="{{::attr.metadata.descr}}" tooltip-placement="left" tooltip-append-to-body="true">{{::attr.title}} </h5></div></div><div ng-if="attr.attrType == 'string' &amp;&amp; (!attr.renderType || attr.renderType == 'default' || attr.renderType == 'text' || attr.renderType == 'categorybar' || attr.renderType == 'categorylist' || attr.renderType == 'barchart' || categorybar == 'categorylist' || categorybar == 'tags' || attr.renderType == 'piechart')"><h3 style="color:{{focusNode.colorStr}};" ng-text-truncate="attr.principalVal | highlight_query: searchQuery" ng-tt-chars-threshold="200" ng-tt-more-label="more..." ng-tt-less-label="...less" class="text-attr-content"></h3></div><dir-attr-renderer ng-if="!attr.isInfoAttr || attr.showRenderer" attr-to-render="attr" node-color-str="focusNode.colorStr" show-aggregation="false" is-node="true" is-node-focus="true" is-in-Overlay="true" cancel-overlay-fctn="attrRenderClicked();" show-filter="attr.showFilter" theme="appUi.theme" pinned-media="pinnedMedia" focus-node="focusNode"></dir-attr-renderer><div class="row"><div class="col-xs-3"><h6 class="no-margin">{{::attr.metadata.minLabel}}</h6></div><div style="color:{{focusNode.colorStr}};" class="col-xs-6"><h4 ng-if="attr.attrType === 'integer' || attr.attrType ==='boolean' || attr.attrType === 'float'" uib-tooltip="{{::attr.metadata.descr}}" tooltip-placement="top" tooltip-append-to-body="true" class="no-margin text-center"><strong><span>{{::attr.title}}:&nbsp;</span><span>{{attr.principalVal}}</span></strong></h4></div><div class="col-xs-3"><h6 class="no-margin text-right">{{::attr.metadata.maxLabel}}</h6></div></div><div ng-if="attr.attrType === 'integer' || attr.attrType ==='boolean' || attr.attrType === 'float' || attr.renderType == 'piechart' || attr.renderType == 'barchart'" class="graph-squares"><div class="pull-right"><div uib-tooltip="Population" tooltip-append-to-body="true" class="square"></div><div uib-tooltip="Group" tooltip-append-to-body="true" class="square"><div style="background: {{focusNode.colorStr}}; opacity: .4;" class="color"></div></div><div uib-tooltip="Node" tooltip-append-to-body="true" class="square"><div style="background: {{focusNode.colorStr}};" class="color"></div></div></div><div class="clearfix"></div></div></div></div></div></div></div></div></div><dir-focus-node ng-show="!appUi.openExtUserOverlay" ng-if="showFocusNode &amp;&amp; mapprSettings.nodeFocusRenderTemplate != 'content'" node="focusNode" img-attr="nodeImageAttr" start="nodeStartData" end="nodeEndData" duration="500" ease="" finish="finishAnimation()"></dir-focus-node><dir-focus-node ng-if="showNeighborNode" node="neighborNode" img-attr="nodeImageAttr" start="neighborNodeStartData" end="neighborNodeEndData" duration="600" ease="" finish="finishNeighborAnimation()"></dir-focus-node></div>