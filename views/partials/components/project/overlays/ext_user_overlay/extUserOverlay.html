<div ng-show="beginOverlayAnim" class="focus-overlay"><div ng-if="showOverlay" class="animate-fade"><div class="node-gradient animate-fade-out-overlay"><div class="top"></div><div class="bottom"></div><div class="left"></div><div class="right"></div></div><div ng-click="closeExtUserOverlay(); triggerInteraction();" class="back-btn vert-align"><i class="icon-neighbors"></i><h6 class="no-margin">See who you're connected to on the map.</h6></div><div ng-show="showNeighborLine" class="neighbor-line animate-fade-in"></div><div><div class="focuspanel"><!-- only have one template, so don't check--><div class="scrolloverlay"><dir-scroll-overlay-anchors color-str="{{focusNode.colorStr}}" scroll-container="#detailbox-scroll" scroll-data-id="data-attr-id" show-neighbors="{{mapprSettings.nodeFocusNeighborsButton}}" force-neighbors="{{extLinkedNodes.length &gt; 0}}"></dir-scroll-overlay-anchors><div ng-hide="hideContent" style="color:{{clusterColor}};" class="focusnode-label"><h4>{{userName}}</h4></div><div style="margin-top:{{shareMarginTop}}px;" ng-if="player.settings.twitterShare || player.settings.facebookShare" class="share-btns"><h5>Share!</h5><div ng-if="twitterShare" dir-social-share="twitter" share-title="{{shareTitle}}" uib-tooltip="Tweet your Creative Style" is-compare="true" class="share-btn vert-align"></div><div ng-if="facebookShare" dir-social-share="facebook" share-title="{{shareTitle}}" uib-tooltip="Share your Creative Style on Facebook" is-compare="true" class="share-btn vert-align"></div></div><div id="detailbox-scroll" ng-class="{transparent: hideContent}" ng-click="closeExtUserOverlay();" dir-kill-tooltip-on-scroll="dir-kill-tooltip-on-scroll" class="detailbox-container"><div><div class="detailbox-card"><div class="row"><div class="col-xs-12"><span>Play to your Creative Strengths:</span></div><div style="color:{{focusNode.colorStr}};" class="col-xs-12"><div ng-repeat="suggestionObj in clusterSuggestionsMap"><div class="row"><span>{{suggestionObj.clusterVal}}:&nbsp;</span><span>{{suggestionObj.suggestion}}</span></div></div></div></div></div></div><div ng-click="$event.stopPropagation();"><div class="detailbox-card"><div class="h5">{{customTitle}} </div><div><dir-attr-renderer attr-to-render="clusterAttr" node-color-str="focusNode.colorStr" show-aggregation="false" is-node="true" is-node-focus="true" is-in-Overlay="true" is-ext-user="true" cancel-overlay-fctn="attrRenderClicked();" show-filter="clusterAttr.showFilter" theme="appUi.theme"></dir-attr-renderer></div></div></div><div ng-click="$event.stopPropagation();"><div dir-neighbors-detail="dir-neighbors-detail" ng-if="extLinkedNodes.length &gt; 0" grid-size="12" data-attr-id="Neighbors"></div><div ng-repeat="attr in distrAttrs" data-attr-id="{{::attr.id}}" ng-click="$event.stopPropagation();" ng-if="attr &amp;&amp; attr.visible &amp;&amp; attr.principalVal != null"><div class="detailbox-card"><div ng-if="attr.attrType != 'integer' &amp;&amp; attr.attrType != 'float' &amp;&amp; attr.attrType != 'boolean' " class="row"><div class="col-xs-12"><span uib-tooltip="{{::attr.metadata.descr}}" tooltip-placement="left" tooltip-append-to-body="true" class="h5">{{::attr.title}} </span></div></div><div ng-if="attr.attrType == 'string' &amp;&amp; (!attr.renderType || attr.renderType == 'default' || attr.renderType == 'text' || attr.renderType == 'categorybar' || attr.renderType == 'categorylist' || attr.renderType == 'barchart' || categorybar == 'categorylist' || categorybar == 'tags' || attr.renderType == 'piechart')"><h3 style="color:{{focusNode.colorStr}};" ng-text-truncate="::attr.principalVal" ng-tt-chars-threshold="200" ng-tt-more-label="more..." ng-tt-less-label="...less" class="text-attr-content"></h3></div><dir-attr-renderer ng-if="loadDistr" attr-to-render="attr" node-color-str="focusNode.colorStr" show-aggregation="false" is-node="true" is-node-focus="true" is-in-Overlay="true" is-ext-user="true" cancel-overlay-fctn="attrRenderClicked();" show-filter="attr.showFilter" theme="appUi.theme"></dir-attr-renderer><div class="row"><div class="col-xs-3"><h6 class="no-margin">{{::attr.metadata.minLabel}}</h6></div><div style="color:{{focusNode.colorStr}};" class="col-xs-6"><h4 ng-if="attr.attrType === 'integer' || attr.attrType ==='boolean' || attr.attrType === 'float'" style="color:{{focusNode.colorStr}};" uib-tooltip="{{::attr.metadata.descr}}" tooltip-placement="top" tooltip-append-to-body="true" class="no-margin text-center"><strong><span>{{::attr.title}}:&nbsp;</span><span>{{attr.principalVal}}</span></strong></h4></div><div class="col-xs-3"><h6 class="no-margin text-right">{{::attr.metadata.maxLabel}}</h6></div></div><div ng-if="attr.attrType === 'integer' || attr.attrType ==='boolean' || attr.attrType === 'float' || attr.renderType == 'piechart' || attr.renderType == 'barchart'" class="graph-squares"><div class="pull-right"><div uib-tooltip="Population" tooltip-append-to-body="true" class="square"></div><div uib-tooltip="Group" tooltip-append-to-body="true" class="square"><div style="background: {{focusNode.colorStr}}; opacity: .4;" class="color"></div></div><div uib-tooltip="Node" tooltip-append-to-body="true" class="square"><div style="background: {{focusNode.colorStr}};" class="color"></div></div></div><div class="clearfix"></div></div></div></div></div></div></div></div></div></div><dir-focus-node ng-if="showFocusNode" node="focusNode" img-attr="nodeImageAttr" start="nodeStartData" end="nodeEndData" duration="500" ease="" finish="finishAnimation()"></dir-focus-node><dir-focus-node ng-if="showNeighborNode" node="neighborNode" img-attr="neighborNodeImageAttr" start="neighborNodeStartData" end="neighborNodeEndData" duration="600" ease="" finish="finishNeighborAnimation()"></dir-focus-node></div>