<div ng-controller="CommonOpsCtrl" class="col-xs-12"><div class="divider"></div><div class="row vert-align"><div class="col-xs-12"><h4>Common Operations</h4><div class="vert-align"><label class="pull-left no-margin">Choose an Operation:&nbsp;&nbsp;</label><div class="ui-select pull-left"><select ng-model="selectedOpVm" ng-options="vm.name for vm in opVms" ng-change="changeOpVm(selectedOpVm);"></select></div></div></div></div><div class="divider"></div><div class="horiz-line"></div><div class="divider"></div><div class="row"><div class="col-xs-12"><h5>Chosen Operation: <span class="active">{{selectedOpVm.desc}}</span></h5></div></div><!-- Common Ops --><div ng-switch="selectedOpVm.opType" class="common-op-container"><div ng-if="selectedOpVm.warning" class="row"><div class="col-xs-12"><h6 class="error-text pull-left">{{selectedOpVm.warning}}</h6><button ng-click="selectedOpVm.warning=null;"><i class="fa fa-close"></i></button></div></div><!-- Group by and summarize Attribute modifiers--><div ng-if="selectedOpVm.groupModifierSupported" class="row"><div class="col-xs-12"><ops-group-by op-vm="selectedOpVm"></ops-group-by></div></div><!-- Algorithm input rendering--><!-- general op listing--><div ng-switch-when="general_op" class="row"><div class="col-xs-12"><div class="row"><div class="col-xs-8"><h5>The Source attribute for this algorithm</h5><div class="ui-select"><select ng-model="selectedOpVm.opInst.srcAttr" ng-options="attr.title for attr in nodeAttrList track by attr.id" ng-change="updateSrcAttr(selectedOpVm, selectedOpVm.opInst)"></select></div><h6>{{selectedOpVm.opInst.srcAttrSampleVals}}</h6></div></div><div class="divider"></div><div class="horiz-line"></div><div class="divider"></div><div class="divider"></div><div class="row"><div class="col-xs-12"><h5>Params</h5><div ng-repeat="param in selectedOpVm.opInst.params"><ops-param op-inst="selectedOpVm.opInst" op-param="param" tooltip-as-descr="true"></ops-param></div></div></div></div></div><!--/ reduce op listing--><div ng-switch-when="reduce_op" class="op-row-container"><div class="row"><div class="col-xs-12"><h5>The Source attributes for this algorithm</h5></div></div><div ng-repeat="opRow in selectedOpVm.opInst.opRows" class="row"><div class="col-xs-6"><div class="ui-select"><select ng-model="opRow.srcAttr" ng-options="attr.title for attr in nodeAttrList track by attr.id" ng-change="updateSrcAttr(selectedOpVm, opRow)"></select></div><h6>{{opRow.srcAttrSampleVals}}</h6><div class="divider"></div></div><div class="col-xs-1"><button ng-click="selectedOpVm.opInst.addRow()" class="ui-btn"><i class="fa fa-plus"></i></button></div><div class="col-xs-1"><button ng-click="selectedOpVm.opInst.removeRow($index)" class="ui-btn"><i class="fa fa-minus"></i></button></div><div class="divider"></div></div><div class="row"><div class="col-xs-12"><h4>Params</h4></div></div><div ng-repeat="param in selectedOpVm.opInst.params" class="row"><div class="col-xs-12"><ops-param op-inst="selectedOpVm.opInst" op-param="param" tooltip-as-descr="true"></ops-param></div></div><div class="divider"></div><div class="row"><div class="col-xs-6"><p>Target AttrId<input ng-model="selectedOpVm.opInst.destAttrId" ng-model-options="{debounce: 500}" class="form-control h6 no-margin"/></p></div></div></div><!-- transform op listing--><div ng-switch-when="transform_op" class="op-row-container"><div ng-repeat="opRow in selectedOpVm.opInst.opRows"><!-- col class is dependent on param length--><div class="row"><div ng-class="selectedOpVm.opInst.attr_class_src"><div class="ui-select"><select ng-model="opRow.srcAttr" ng-options="attr.title for attr in nodeAttrList track by attr.id" ng-change="updateSrcAttr(selectedOpVm, opRow)"></select></div></div><div ng-show="selectedOpVm.opInst.compactInput" ng-class="selectedOpVm.opInst.attr_class_param"><div ng-repeat="param in opRow.params"><ops-param op-inst="selectedOpVm.opInst" op-row="opRow" op-param="param"></ops-param></div></div><div ng-class="selectedOpVm.opInst.attr_class_dest"><input ng-model="opRow.destAttrId" ng-model-options="{debounce: 500}" class="form-control h6 no-margin"/></div><div class="col-xs-1"><button ng-click="selectedOpVm.opInst.addRow()" class="ui-btn"> <i class="fa fa-plus"></i></button></div><div class="col-xs-1"><button ng-click="selectedOpVm.opInst.removeRow($index)" class="ui-btn"><i class="fa fa-minus"></i></button></div></div><div class="row"><div class="col-xs-12"><h6>{{opRow.srcAttrSampleVals}}</h6></div></div><div ng-hide="selectedOpVm.opInst.compactInput" class="row"><div class="col-xs-12"><div ng-repeat="param in opRow.params"><ops-param op-inst="selectedOpVm.opInst" op-row="opRow" op-param="param"></ops-param></div></div></div><div class="divider"></div></div></div></div><div class="divider"></div><div class="divider"></div></div>