<div ng-controller="MapprAdminCtrl" class="page page-profile over-auto height-100"><div class="top-header"><header class="header-bar simple"><div class="top-nav"><ul class="list-unstyled vert-align left-menu pull-left"><!--LOGO + TEXT--><li ng-mouseleave="showProjMenu = false;" class="menu-nav vert-align"><div ng-mouseenter="showProjMenu = true;" uib-tooltip="Projects" tooltip-placement="right" class="btn-group"><a href="/user-projects" class="proj-logo text-center vert-align"><i ng-if="!showProjMenu" class="icon-mappr-logo"></i><i ng-if="showProjMenu" class="fa fa-arrow-left fa-2x"></i></a></div></li><li class="menu-nav"><h5>Mappr Admin</h5></li><li class="menu-nav"><button ng-if="adminUserSection == 'org'" type="button" ng-click="openOrgCreateModal()" class="power-btn wide">Create Organization</button><button ng-if="adminUserSection == 'user'" type="button" ng-click="openUserCreateModal()" class="power-btn wide">Create User</button></li><li class="search"><div class="square-btn pull-left search-input"><div ng-if="adminUserSection == 'org'"><input type="text" placeholder="search orgs..." ng-model="orgSearchText" dir-select-all="dir-select-all" class="h4 form-control"/><i class="fa fa-search"></i></div><div ng-if="adminUserSection == 'user'"><input type="text" placeholder="search users..." ng-model="userSearchText" dir-select-all="dir-select-all" class="h4 form-control"/><i class="fa fa-search"></i></div></div></li></ul><ul class="list-unstyled vert-align pull-right no-margin"><li uib-dropdown="uib-dropdown" dropdown-append-to-body="dropdown-append-to-body" class="uib-dropdown text-normal nav-profile menu-nav"><a uib-dropdown-toggle="uib-dropdown-toggle" auto-close="outsideClick" href="javascript:;" uib-tooltip="profile" tooltip-placement="bottom"><!--img.img-circle.img35_35(ng-src='{{user.current.picture}}', alt='{{user.current.name}}')--><div class="circle-btn"><span class="h4">{{user.current.name | limitTo: 1}}</span></div></a><div uib-dropdown-menu="uib-dropdown-menu" class="uib-dropdown-menu uib-dropdown-menu-flexing"><div class="uib-dropdown-click-close"></div><div style="margin-left:43px;" class="uib-dropdown-flex-content"><div class="uib-dropdown-flex right"><ul class="list-unstyled dd-list"><li class="row vert-align"><a href="/user-profile"> <div class="col-xs-12"><div class="h6 no-margin">Profile</div></div></a></li><li class="row"><a ng-click="logout()" class="vert-align"><div class="col-xs-7"><h6 class="no-margin truncate">{{user.current.email}}</h6></div><div class="col-xs-5"><h6 class="no-margin truncate">Log Out</h6></div></a></li></ul></div></div></div></li></ul></div></header></div><div class="list-lg"><uib-tabset><uib-tab select="setAdminUserSection('org')"><uib-tab-heading><h6 class="no-margin">Organizations</h6></uib-tab-heading><div class="tab-content"><div class="list-group-item no-border"><div class="row vert-align"><div class="col-xs-1"> <i class="fa fa-2x fa-fw fa-users hidden"></i></div><div class="col-xs-5"><h6 class="no-margin">Name</h6></div><div class="col-xs-2"><h6 class="no-margin">Created </h6></div><div class="col-xs-1"> <h6 class="no-margin">Maps</h6></div><div class="col-xs-1"> <h6 class="no-margin">Members </h6></div><div class="col-xs-1"> <h6 class="no-margin">Pending </h6></div><div class="col-xs-2"></div></div></div><ul class="list-unstyled"><li ng-repeat="orgVM in orgVMs | filter:orgSearchText | orderBy: '-createdAt' " class="list-group-item no-hover"><div class="row vert-align"><div class="col-xs-1"> <i class="fa fa-2x fa-fw fa-users"></i></div><div class="col-xs-5"><h6 class="name">{{ orgVM.orgName }}</h6><a ng-click="showUser(user._id)" class="subtext">{{ user.email }}</a></div><div class="col-xs-2"><h6>{{ orgVM.createdAt | date : medium }}</h6></div><div class="col-xs-1"><h6>{{ orgVM.projects.length}}</h6></div><div class="col-xs-1"><h6>{{ orgVM.users.members.length }}</h6></div><div class="col-xs-1"><h6>{{ orgVM.users.pending.length }}</h6></div><div class="col-xs-2"><div uib-dropdown="uib-dropdown" dropdown-append-to-body="dropdown-append-to-body" class="uib-dropdown"><span uib-dropdown-toggle="uib-dropdown-toggle" auto-close="outsideClick" class="text-link h6"> <span ng-class="ddClass" class="pointable-cursor"><span>Manage </span><i class="fa fa-angle-down"></i></span></span><div uib-dropdown-menu="uib-dropdown-menu" class="uib-dropdown-menu uib-dropdown-menu-flexing"><div class="uib-dropdown-click-close"></div><div style="margin-left: 80px;" class="uib-dropdown-flex-content"><div class="uib-dropdown-flex right"><ul class="list-unstyled dd-list"><li ng-click="openOrgEditModal(orgVM)" class="row vert-align pointable-cursor"><div class="col-xs-12">Edit Org</div></li><li ng-click="openOrgRemoveModal(orgVM)" class="row vert-align pointable-cursor"><div class="col-xs-12">Remove Org</div></li><li ng-click="openOrgUsersModal(orgVM)" class="row vert-align pointable-cursor"><div class="col-xs-12">Users</div></li><li ng-click="openOrgProjectsModal(orgVM)" class="row vert-align pointable-cursor"><div class="col-xs-12">Projects</div></li></ul></div></div></div></div></div></div></li></ul></div></uib-tab><uib-tab select="setAdminUserSection('user')"><uib-tab-heading><h6 class="no-margin">Users</h6></uib-tab-heading><div class="tab-content"><div class="list-group-item no-border"> <div class="row vert-align"><div class="col-xs-1"> <i class="fa fa-2x fa-fw fa-users hidden"></i></div><div class="col-xs-5"><h6 class="no-margin">Name</h6></div><div class="col-xs-2"><h6 class="no-margin">Joined </h6></div><div class="col-xs-1"> <h6 class="no-margin">Maps</h6></div><div class="col-xs-1"> <h6 class="no-margin">Orgs</h6></div><div class="col-xs-2"></div></div></div><ul class="list-unstyled"><li ng-repeat="user in userVMs | filter:userSearchText | orderBy : orderUserComposite" class="list-group-item no-hover"><div class="row vert-align"><div class="col-xs-1"> <i class="fa fa-2x fa-fw fa-user"></i></div><div class="col-xs-5"><h6 class="no-margin name">{{ user.name }}</h6><a ng-click="showUser(user._id)" class="subtext">{{ user.email }}</a></div><div class="col-xs-2"><h6>{{ user.dateCreated | date : medium }}</h6></div><div class="col-xs-1"> <h6>{{ user.projects.length}}</h6></div><div class="col-xs-1"> <h6>{{ user.orgs.length }}</h6></div><div class="col-xs-2"><div uib-dropdown="uib-dropdown" dropdown-append-to-body="dropdown-append-to-body" class="uib-dropdown"><span uib-dropdown-toggle="uib-dropdown-toggle" auto-close="outsideClick" class="text-link h6"> <span ng-class="ddClass" class="pointable-cursor"><span>Manage </span><i class="fa fa-angle-down"></i></span></span><div uib-dropdown-menu="uib-dropdown-menu" class="uib-dropdown-menu uib-dropdown-menu-flexing"><div class="uib-dropdown-click-close"></div><div style="margin-left: 80px;" class="uib-dropdown-flex-content"><div class="uib-dropdown-flex right"><ul class="list-unstyled dd-list"><li ng-click="openUserEditModal(user)" class="row vert-align pointable-cursor"><div class="col-xs-12">Edit User</div></li><li ng-click="openUserDeleteModal(user)" class="row vert-align pointable-cursor"><div class="col-xs-12">Delete User</div></li><li ng-click="openUserOrgsModal(user)" class="row vert-align pointable-cursor"><div class="col-xs-12">View Orgs</div></li></ul></div></div></div></div></div></div></li></ul></div></uib-tab></uib-tabset></div></div>