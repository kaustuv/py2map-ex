<div class="modal-header"><div class="row vert-align"><div class="col-xs-9"><h6><span>Recipe ETL Settings</span></h6></div><div class="col-xs-3 vert-align right"><button ng-click="save()" class="header-btn"><i class="fa fa-cloud-upload"></i><span class="h7">Save</span></button><button type="button" ng-click="closeModal()" class="close-btn"><span class="icon">&times;</span></button></div></div></div><div class="modal-body"><div><div class="vert-align row"><div class="col-xs-3"><label class="h6 title text-uppercase">Enable ETL </label></div><div class="col-xs-7"><div uib-tooltip="Enable ETL" tooltip-placement="left" tooltip-append-to-body="true" class="bool pull-left"><div class="onoffswitch"><input id="enable-etl" type="checkbox" ng-model="config.enabled" class="onoffswitch-checkbox"/><label for="enable-etl" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div><!-- select script--><div class="row vert-align"><div class="col-xs-3"> <h6>Script</h6></div><div class="col-xs-7"><div class="ui-select"><select ng-model="config.scriptName" ng-options="item as item for item in scriptNameOpts" ng-change="loadScript(config.scriptName)"></select></div></div></div><div class="vert-align row"><div class="col-xs-3"><label class="h6 title text-uppercase">is Parquet File </label></div><div class="col-xs-7"><div uib-tooltip="is Parquet file" tooltip-placement="left" tooltip-append-to-body="true" class="bool pull-left"><div class="onoffswitch"><input id="is-parquet-file" type="checkbox" ng-model="config.isParquet" class="onoffswitch-checkbox"/><label for="is-parquet-file" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div><div class="vert-align"><div class="col-xs-3"> <h6>Entity to analyse</h6></div><div class="col-xs-7"><div class="ui-select"><select ng-model="config.entity" ng-options="item as item for item in entityOpts" ng-change="setEntity(config.entity)"></select></div></div></div><div class="vert-align row"><div class="col-xs-3"><label class="h6 title text-uppercase">Part Name</label></div><div class="col-xs-7"><input ng-model="config.partName" placeholder="partName" class="form-control h5"/></div></div><div class="divider-lg"></div><!-- show colums in data--><div class="row top-align"><div class="col-xs-3"><h6 class="no-margin">Available columns</h6></div><div class="col-xs-7"><div class="three-columns"><ul><li ng-repeat="col in dataCols | orderBy:'toString()'">{{col}}</li></ul></div></div></div><!-- read options like seperator--><div class="row vert-align"><div class="col-xs-3"> <h6 class="text-uppercase">Read Options </h6></div></div><div class="row vert-align"><div class="col-xs-3"> <h6>tab_sep </h6></div><div class="col-xs-7"> <div uib-tooltip="tab_sep" tooltip-placement="left" tooltip-append-to-body="true" class="bool pull-left"><div class="onoffswitch"><input id="tag-sep" type="checkbox" ng-model="config.readOpts.tab_sep" class="onoffswitch-checkbox"/><label for="tag-sep" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div><div class="divider"></div><hr/><!-- filter config--><h4>Data filtering</h4><div class="divider-sm"></div><a target="_blank" href="https://docs.treasuredata.com/articles/hive-operators#predicate-operators" class="power-btn secondary-btn left">list of all valid operators</a><div class="divider-sm"></div><!-- transaction row filtering--><div class="row"><div class="col-xs-12"><h5>Transaction filtering</h5><h7>Only those transactions for which this predicate is true are selected, eg: merchant in 'Lyft', 'Uber' AND state = 'CA'</h7><div class="code"><input ng-model="config.filterSpec.rowFilter" placeholder="row filter predicate" class="form-control h5"/></div></div></div><!-- value row filtering--><div class="row"><div class="col-xs-12"><h5>transaction filtering via column value file</h5><h7>Only those transactions for which the userId is equal to any value in the given file.</h7><div class="row"><div class="col-xs-3"> <h6>enabled</h6></div><div class="col-xs-7"> <div uib-tooltip="enable col filter via files" tooltip-placement="left" tooltip-append-to-body="true" class="bool pull-left"><div class="onoffswitch"><input id="col_filter" type="checkbox" ng-model="config.colValFiltersEnabled" class="onoffswitch-checkbox"/><label for="col_filter" class="onoffswitch-label"><div class="onoffswitch-inner"></div><div class="onoffswitch-switch"></div></label></div></div></div></div><div class="row"><div class="code"><input ng-model="config.colValFilters.userID" placeholder="file with userID" class="form-control h5"/></div></div></div></div><div class="row"><div class="col-xs-12"><h5>Attribute Value filtering</h5><h7>Select all values for the attribute where the given predicate is true. then select all transactions where the value of the attribute is in the value set, </h7><h7>eg: attribute: userId, filter: category LIKE %Apparel%. Will select all transactions of user who have shopped in Apparel section atleast once.</h7><div class="divider"></div><div ng-repeat="attrFilter in valueFilters"><div class="divider"></div><div class="row vert-align"><div class="col-xs-10"><div class="row vert-align"><div class="col-xs-3"><h6 class="no-margin">Attribute</h6></div><div class="col-xs-9"><div class="ui-select"><select ng-model="attrFilter.colId" ng-options="item as item for item in dataCols"></select></div></div></div><div class="divider-sm"></div><div class="row vert-align"><div class="col-xs-3"><h6 class="no-margin">Predicate</h6></div><div class="col-xs-9"><input ng-model="attrFilter.predicate" placeholder="value filter predicate" class="form-control h5 no-margin"/></div></div></div><div class="col-xs-2"><button ng-click="removeFilter($index)" uib-tooltip="Remove Value Filter" tooltip-append-to-body="true" class="power-btn error-btn secondary-btn pull-left"><i class="fa fa-2x fa-times"></i></button><div class="clearfix"></div><div class="divider-sm"></div></div></div></div><div class="divider-lg"></div><div class="row"><div class="col-xs-12"><button ng-click="addFilter()" class="power-btn">Add Value Filter</button></div></div></div></div></div><div class="divider-lg"></div><button ng-click="save();" class="power-btn right pull-right">Save</button></div>